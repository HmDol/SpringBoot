<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$("#wbtn").click(function(){
			let fdata = new FormData($("#f")[0]);
			$.ajax({
				url:"/diary",
				type:"post",
				processData:false,
				contentType:false,
				enctype:'multipart/form-data',
				data:fdata,
				dataType:'json',
				success: function(res){//res: 받은 응답
					if(res.flag){
						alert(res.dto.title);
					}else{
						alert("메모 추가에 문제가 있음");
					}
				},
				error:function(){
					alert("error");
				}
			});
		});
	});
</script>
</head>
<body>
<h3>diary</h3><form id="f">
	title:<input type="text" name="title"><br/>
	content:<input type="text" name="content"><br/>
	사진:<input type="file" name="f"><br/>
	<input type="button" value="작성" id="wbtn">
</form>
</body>
</html>